
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Linear Least Square Method &#8212; Dr.Hadi Sadoghi Yazdi</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'PR/StudentEffort/linear-least-square/Least-Square-Method';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../../pattern_recognition.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/Hadi_Sadoghi_Yazdi.png" class="logo__image only-light" alt="Dr.Hadi Sadoghi Yazdi - Home"/>
    <script>document.write(`<img src="../../../_static/Hadi_Sadoghi_Yazdi.png" class="logo__image only-dark" alt="Dr.Hadi Sadoghi Yazdi - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../pattern_recognition.html">
                    Pattern Recognition
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction of PR</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Introduction/PR_intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Introduction/DataSet.html">Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Introduction/Model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Introduction/Cost.html">Cost_Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Introduction/LearningRule.html">Learning_Rule</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Visualization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Visualization/PR_intro_Visualization.html">Visualization</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Clustering</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/PR_intro_Clustering.html">Clustering Concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/Clustering_1.html">Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/FCM_1.html">k-means and fuzzy-c-means clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/FCM_Saghi_Project.html">Complementary of FCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/LinkageClustering_1.html">Project Linkage clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/e_insensitive_linkage.html">Project <span class="math notranslate nohighlight">\( \epsilon \)</span> -insensitive Linkage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/SOFM_Project.html">Project Title: Self-Organizing Feature Map (SOFM)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Regression</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Regression/Introduction_Regression.html">Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regression/Regression_1.html">Linear Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regression/NonLinearRegression.html">Non-linear Regression: The starting point</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regression/Linearization.html">Linearization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regression/Kernel_for_Regression.html">Kernel method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regression/EvaluationModelSelection.html">Project : Evaluation and Model Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regression/Solution_for_Regression.html">Solution Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regression/TheoryRegression.html">Theoretical Aspects of Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regression/ApplicationsPatternRecognition.html">Applications in Pattern Recognition</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Classification</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Classification/PR_intro_Classification.html">Classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Classification/SVDD.html">Support Vector Data Description (SVDD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Classification/SVM1.html">Support Vector Machine (SVM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Classification/Fisherclassifier.html">Fihser Classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Classification/KernelFisherDiscriminantAnalysis.html">Kernel Fisher Discriminant Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Classification/DecisionTree1.html">Project Induction in Decision Trees</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">BayesEstimation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../BayesEstimation/BayesEstimation.html">Bayes Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../BayesEstimation/KDE_1.html">kernel-based density estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../BayesEstimation/MeanShift.html">Mean Shift Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../BayesEstimation/ParametricDensityEstimation1.html">Parametric Density Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../BayesEstimation/GMM.html">Gaussian Mixture Model</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Student Effort</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Whyprojection1.html">What is Projection?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Star%20Coordinates/Star_Coordinates.html">Star Coordinates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Covariance_Fekri/Covariance_Poorya.html">Covariance</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Supplementary</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../SupplementaryDocuments/Supplementary1.html">Supplementary Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SupplementaryDocuments/EVD.html">Eigen Value Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SupplementaryDocuments/twin_svm.html">Twin SVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SupplementaryDocuments/Covariance1.html">Covariance</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contact</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../Contact_Me.html">Contact Me</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../About_Me.html">About Me</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/h-sadoghi/dr-sadoghi.git" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/h-sadoghi/dr-sadoghi.git/issues/new?title=Issue%20on%20page%20%2FPR/StudentEffort/linear-least-square/Least-Square-Method.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/PR/StudentEffort/linear-least-square/Least-Square-Method.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Linear Least Square Method</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Linear Least Square Method</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview-of-the-project">Overview of the Project</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-insights">Mathematical Insights:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-features">Key Features:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perpendicular-residuals-calculation-using-pca">Perpendicular Residuals Calculation Using PCA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#refrence-to-this-part-pca-in-machine-learning-course-tought-by-dr-hadi-sadoghi-yazdi">Refrence to this part : PCA in Machine Learning Course tought by Dr.Hadi Sadoghi Yazdi</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cost-function">Cost Function</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cost-function-used-sum-of-squared-distances-ssd">Cost Function Used: Sum of Squared Distances (SSD)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-possible-cost-functions">Other Possible Cost Functions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#refrence-to-this-part-cost-function-in-pattern-recognation-course-tought-by-dr-hadi-sadoghi-yazdi">Refrence to this part : Cost_Function in Pattern Recognation Course tought by Dr.Hadi Sadoghi Yazdi</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#project-implementation">Project Implementation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-necessary-libraries">1. Import necessary libraries</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#explanation-of-libraries-used-in-this-code">Explanation of Libraries Used in this code</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-random-linear-data">2. Generate random linear data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-the-function-for-perpendicular-projection">3. Define the function for perpendicular projection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-the-function-to-plot-regression-and-residuals">4. Define the function to plot regression and residuals</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-interactive-widgets">5. Create interactive widgets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#update-labels-dynamically">6. Update labels dynamically</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#attach-the-update-function-to-widgets">7. Attach the update function to widgets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arrange-widgets-in-a-horizontal-layout">8. Arrange widgets in a horizontal layout</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-the-function-to-update-the-plot">9. Define the function to update the plot</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#display-the-interactive-plot-and-controls">10. Display the interactive plot and controls</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#print-the-execution-time">Print the execution time</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#link-to-online-app-with-streamlit">link to online app with streamlit</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#refrences">Refrences</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="linear-least-square-method">
<h1>Linear Least Square Method<a class="headerlink" href="#linear-least-square-method" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Author</strong> : Mustafa Sadeghi</p></li>
<li><p><strong>Contact</strong> : <a class="reference external" href="mailto:mustafasadeghi&#37;&#52;&#48;mail&#46;um&#46;ac&#46;ir">mustafasadeghi<span>&#64;</span>mail<span>&#46;</span>um<span>&#46;</span>ac<span>&#46;</span>ir</a></p></li>
</ul>
<img src="img.jpg" alt="My Image" width="100" height="100" style="border-radius: 15px;"/>
<section id="overview-of-the-project">
<h2>Overview of the Project<a class="headerlink" href="#overview-of-the-project" title="Link to this heading">#</a></h2>
<p>This code provides an interactive visualization of the <strong>Least Squares Method</strong>, a widely-used technique in linear regression. The goal of the Least Squares Method is to find the best-fitting line through a set of data points by minimizing the <strong>sum of squared residuals (errors)</strong> — the vertical distances between the actual data points and the predicted points on the regression line.</p>
<p>In this code, the user can manually adjust the <strong>slope</strong> (<span class="math notranslate nohighlight">\(\beta_1\)</span>) and <strong>intercept</strong> (<span class="math notranslate nohighlight">\(\beta_0\)</span>) of the regression line using interactive sliders to explore how different values impact the fit and the <strong>sum of squared distances (SSD)</strong>. Although the traditional Least Squares method automatically finds the optimal slope and intercept by minimizing the SSD, this code enables users to visualize and understand the process through manual adjustments.</p>
<section id="mathematical-insights">
<h3>Mathematical Insights:<a class="headerlink" href="#mathematical-insights" title="Link to this heading">#</a></h3>
<ol class="arabic">
<li><p><strong>Linear Regression and Least Squares</strong>:</p>
<ul>
<li><p>The regression line is represented by the equation:</p>
<div class="math notranslate nohighlight">
\[ y = \beta_1 x + \beta_0 + \epsilon_i \]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\beta_1\)</span> is the <strong>slope</strong> of the line.</p></li>
<li><p><span class="math notranslate nohighlight">\(\beta_0\)</span> is the <strong>intercept</strong> (the value of <span class="math notranslate nohighlight">\(y\)</span> when <span class="math notranslate nohighlight">\(x = 0\)</span>).</p></li>
<li><p><span class="math notranslate nohighlight">\(\epsilon_i\)</span> is the error term (or residual) for the <span class="math notranslate nohighlight">\(i\)</span>-th data point, which represents the difference between the actual value <span class="math notranslate nohighlight">\(y_i\)</span> and the predicted value <span class="math notranslate nohighlight">\(\hat{y_i}\)</span>.</p></li>
</ul>
</li>
<li><p>The objective of the <strong>Least Squares Method</strong> is to minimize the <strong>sum of squared residuals (SSR)</strong>, which is defined as:
$<span class="math notranslate nohighlight">\( SSR = \sum_{i=1}^{n} \epsilon_i^2 = \sum_{i=1}^{n} (y_i - \hat{y}_i)^2 \)</span>$
where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(y_i\)</span> is the actual <span class="math notranslate nohighlight">\(y\)</span>-value for the <span class="math notranslate nohighlight">\(i\)</span>-th data point.</p></li>
<li><p><span class="math notranslate nohighlight">\(\hat{y}_i = \beta_1 x_i + \beta_0\)</span> is the predicted <span class="math notranslate nohighlight">\(y\)</span>-value for the same <span class="math notranslate nohighlight">\(x\)</span>.</p></li>
</ul>
</li>
<li><p>By minimizing the SSR, the Least Squares Method ensures that the overall error between the actual data points and the fitted line is as small as possible. The formula for the optimal slope <span class="math notranslate nohighlight">\(\beta_1\)</span> and intercept <span class="math notranslate nohighlight">\(\beta_0\)</span> is typically derived using calculus and linear algebra.</p></li>
</ul>
</li>
<li><p><strong>Sum of Squared Distances (SSD)</strong>:</p>
<ul>
<li><p>In the code, the <strong>Sum of Squared Distances (SSD)</strong> is computed in real-time as the user adjusts the slope (<span class="math notranslate nohighlight">\(\beta_1\)</span>) and intercept (<span class="math notranslate nohighlight">\(\beta_0\)</span>). This SSD value represents the total squared distance between the data points and the line for a given set of slope and intercept values.</p></li>
<li><p>Mathematically, the SSD is equivalent to the SSR in standard linear regression:</p>
<div class="math notranslate nohighlight">
\[ SSD = \sum_{i=1}^{n} \epsilon_i^2 = \sum_{i=1}^{n} \text{Residual}_i^2 \]</div>
</li>
<li><p>A lower SSD indicates a better fit between the data points and the regression line.</p></li>
</ul>
</li>
<li><p><strong>Residual Visualization</strong>:</p>
<ul>
<li><p><strong>Residuals</strong> represent the difference between the actual <span class="math notranslate nohighlight">\(y\)</span>-value of a data point and the <span class="math notranslate nohighlight">\(y\)</span>-value predicted by the regression line. In this code, the user can visualize three types of residuals:</p>
<ul>
<li><p><strong>Vertical Residuals</strong>: The vertical difference between the actual point and the predicted point on the line. This is the default approach used in the Least Squares Method.</p>
<div class="math notranslate nohighlight">
\[ \text{Vertical Residual} = y_i - \hat{y}_i = y_i - (\beta_1 x_i + \beta_0) \]</div>
</li>
<li><p><strong>Horizontal Residuals</strong>: The horizontal difference between the actual <span class="math notranslate nohighlight">\(x\)</span>-coordinate and the projected <span class="math notranslate nohighlight">\(x\)</span>-coordinate of the point onto the line.</p>
<div class="math notranslate nohighlight">
\[ \text{Horizontal Residual} = x_i - \hat{x}_i \]</div>
<p>where <span class="math notranslate nohighlight">\(\hat{x}_i\)</span> is found by solving for <span class="math notranslate nohighlight">\(x\)</span> when <span class="math notranslate nohighlight">\(y_i = \beta_1 x + \beta_0\)</span>.</p>
</li>
<li><p><strong>Perpendicular Residuals</strong>: The shortest distance from a point to the regression line, calculated using geometry. This is more geometrically accurate but is not typically used in the Least Squares Method. The perpendicular distance is computed as:
$<span class="math notranslate nohighlight">\( \text{Perpendicular Distance} = \frac{|y_i - \beta_1 x_i - \beta_0|}{\sqrt{\beta_1^2 + 1}} \)</span>$
This formula calculates the shortest distance from a point to a line in 2D space.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Finding the Best-Fitting Line</strong>:</p>
<ul>
<li><p>In classical <strong>Least Squares</strong>, the best-fitting line is the one that minimizes the vertical distances (residuals) between the data points and the line. The slope and intercept of the optimal line are derived by solving a system of equations known as the <strong>normal equations</strong>:</p>
<div class="math notranslate nohighlight">
\[ \beta_1 = \frac{n(\sum x_i y_i) - (\sum x_i)(\sum y_i)}{n(\sum x_i^2) - (\sum x_i)^2} \]</div>
<div class="math notranslate nohighlight">
\[ \beta_0 = \frac{(\sum y_i) - \beta_1(\sum x_i)}{n} \]</div>
<p>where <span class="math notranslate nohighlight">\(n\)</span> is the number of data points, and <span class="math notranslate nohighlight">\(\sum x_i\)</span> and <span class="math notranslate nohighlight">\(\sum y_i\)</span> are the sums of the <span class="math notranslate nohighlight">\(x\)</span>- and <span class="math notranslate nohighlight">\(y\)</span>-coordinates, respectively.</p>
</li>
<li><p>In this code, however, users can manually adjust <span class="math notranslate nohighlight">\(\beta_1\)</span> (slope) and <span class="math notranslate nohighlight">\(\beta_0\)</span> (intercept) to see how changing these values impacts the SSD and the fit of the line to the data.</p></li>
</ul>
</li>
</ol>
</section>
<section id="key-features">
<h3>Key Features:<a class="headerlink" href="#key-features" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Interactive Plot</strong>:</p>
<ul class="simple">
<li><p>The plot displays the data points along with a regression line. The slope (<span class="math notranslate nohighlight">\(\beta_1\)</span>) and intercept (<span class="math notranslate nohighlight">\(\beta_0\)</span>) of the line can be controlled via sliders, and the plot updates in real-time to show the new fitted line.</p></li>
</ul>
</li>
<li><p><strong>Residual Visualization</strong>:</p>
<ul class="simple">
<li><p>The distances between each data point and the regression line are visualized as lines on the plot. The type of distance can be toggled between:</p>
<ul>
<li><p><strong>Vertical</strong> (used in standard least squares)</p></li>
<li><p><strong>Horizontal</strong></p></li>
<li><p><strong>Perpendicular</strong></p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Sum of Squared Distances (SSD)</strong>:</p>
<ul class="simple">
<li><p>The SSD, displayed on the plot, updates dynamically as the slope (<span class="math notranslate nohighlight">\(\beta_1\)</span>) and intercept (<span class="math notranslate nohighlight">\(\beta_0\)</span>) are adjusted. This helps the user see how the goal of Least Squares is to minimize this value by choosing the best-fitting line.</p></li>
</ul>
</li>
<li><p><strong>Mathematical Insight</strong>:</p>
<ul class="simple">
<li><p>The core concept of the Least Squares Method — minimizing the sum of squared vertical distances — is shown visually. Users can see how different lines affect the SSD and learn why the optimal line is the one that minimizes this sum.</p></li>
</ul>
</li>
</ol>
<p>While the code includes options for <strong>horizontal</strong> and <strong>perpendicular</strong> distances, the <strong>vertical distance</strong> is directly related to the classic Least Squares approach, where we seek to minimize the vertical errors between the actual and predicted values.</p>
</section>
</section>
<section id="perpendicular-residuals-calculation-using-pca">
<h2>Perpendicular Residuals Calculation Using PCA<a class="headerlink" href="#perpendicular-residuals-calculation-using-pca" title="Link to this heading">#</a></h2>
<p>In the <strong>Perpendicular Least Squares</strong> method, we use <strong>Principal Component Analysis (PCA)</strong> to find the best-fitting line that minimizes the perpendicular distances from each point to the regression line. Here’s a step-by-step breakdown of the mathematical process:</p>
<ol class="arabic">
<li><p><strong>Centering the Data</strong>:
First, we center the data by subtracting the mean of the <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> values from each data point. This ensures the data is centered around the origin:</p>
<div class="math notranslate nohighlight">
\[
   x_{\text{cent}} = x_i - \bar{x}, \quad y_{\text{cent}} = y_i - \bar{y}
   \]</div>
<p>where <span class="math notranslate nohighlight">\(\bar{x}\)</span> and <span class="math notranslate nohighlight">\(\bar{y}\)</span> are the mean values of <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span>, respectively.</p>
</li>
<li><p><strong>Covariance Matrix</strong>:
Next, we calculate the <strong>covariance matrix</strong> of the centered <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> values. The covariance matrix provides insight into how much the two variables vary together:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
   \text{Cov} = 
   \begin{bmatrix}
   \text{Var}(x_{\text{cent}}) &amp; \text{Cov}(x_{\text{cent}}, y_{\text{cent}}) \\
   \text{Cov}(x_{\text{cent}}, y_{\text{cent}}) &amp; \text{Var}(y_{\text{cent}})
   \end{bmatrix}
   \end{split}\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\text{Var}(x_{\text{cent}})\)</span> is the variance of the centered <span class="math notranslate nohighlight">\(x\)</span> values.</p></li>
<li><p><span class="math notranslate nohighlight">\(\text{Var}(y_{\text{cent}})\)</span> is the variance of the centered <span class="math notranslate nohighlight">\(y\)</span> values.</p></li>
<li><p><span class="math notranslate nohighlight">\(\text{Cov}(x_{\text{cent}}, y_{\text{cent}})\)</span> is the covariance between the centered <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> values.</p></li>
</ul>
</li>
<li><p><strong>Eigenvalue and Eigenvector Decomposition</strong>:
We then perform <strong>eigenvalue decomposition</strong> on the covariance matrix to find the <strong>eigenvalues</strong> and <strong>eigenvectors</strong>. These represent the directions of the principal components and the variance along these directions:</p>
<div class="math notranslate nohighlight">
\[
   \text{Cov} \cdot v = \lambda v
   \]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\lambda\)</span> are the eigenvalues (representing variance in each direction).</p></li>
<li><p><span class="math notranslate nohighlight">\(v\)</span> are the eigenvectors (representing the direction of maximum variance).</p></li>
</ul>
</li>
<li><p><strong>Choosing the Principal Component (Line of Best Fit)</strong>:
The eigenvector corresponding to the largest eigenvalue (<span class="math notranslate nohighlight">\(\lambda_1\)</span>) gives the direction of the principal component, which represents the line that minimizes the perpendicular residuals:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
   v_1 = \begin{bmatrix} v_{x_1} \\ v_{y_1} \end{bmatrix}
   \end{split}\]</div>
<p>The slope of the best-fitting line, <span class="math notranslate nohighlight">\(\beta_1\)</span>, is calculated from the ratio of the components of this eigenvector:</p>
<div class="math notranslate nohighlight">
\[
   \beta_1 = \frac{v_{y_1}}{v_{x_1}}
   \]</div>
</li>
<li><p><strong>Calculating the Intercept</strong>:
Once we have the slope <span class="math notranslate nohighlight">\(\beta_1\)</span>, the next step is to calculate the intercept <span class="math notranslate nohighlight">\(\beta_0\)</span>. This is done using the means of the original (uncentered) <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> values:</p>
<div class="math notranslate nohighlight">
\[
   \beta_0 = \bar{y} - \beta_1 \cdot \bar{x}
   \]</div>
<p>This gives the equation of the line of best fit: <span class="math notranslate nohighlight">\(y = \beta_1 x + \beta_0\)</span>.</p>
</li>
<li><p><strong>Perpendicular Distance</strong>:
Finally, we compute the <strong>perpendicular distance</strong> from each data point <span class="math notranslate nohighlight">\((x_i, y_i)\)</span> to the line <span class="math notranslate nohighlight">\(y = \beta_1 x + \beta_0\)</span>. This distance is given by the following formula:</p>
<div class="math notranslate nohighlight">
\[
   \text{Perpendicular Distance} = \frac{|y_i - \beta_1 x_i - \beta_0|}{\sqrt{\beta_1^2 + 1}}
   \]</div>
<p>This formula gives the shortest distance between a point and a line in 2D space, representing the <strong>Perpendicular Residual</strong> for each point.</p>
</li>
</ol>
<section id="summary">
<h3>Summary:<a class="headerlink" href="#summary" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Center the Data</strong>: Subtract the mean of <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> to center the data around the origin.</p></li>
<li><p><strong>Covariance Matrix</strong>: Calculate the covariance matrix to understand the spread of the data.</p></li>
<li><p><strong>Eigenvalue Decomposition</strong>: Decompose the covariance matrix to find the eigenvectors and eigenvalues, which represent the directions of maximum variance.</p></li>
<li><p><strong>Principal Component</strong>: Use the eigenvector with the largest eigenvalue to calculate the slope and intercept of the line that minimizes perpendicular residuals.</p></li>
<li><p><strong>Perpendicular Distance</strong>: Compute the shortest distance from each data point to the line, representing the residual for that point.</p></li>
</ul>
</section>
<section id="refrence-to-this-part-pca-in-machine-learning-course-tought-by-dr-hadi-sadoghi-yazdi">
<h3>Refrence to this part : <a class="reference external" href="https://laboratorypatternrecognition.github.io/MachineLearningS/ML/FeatureReduction/PCA.html">PCA in Machine Learning Course tought by Dr.Hadi Sadoghi Yazdi</a><a class="headerlink" href="#refrence-to-this-part-pca-in-machine-learning-course-tought-by-dr-hadi-sadoghi-yazdi" title="Link to this heading">#</a></h3>
</section>
</section>
<section id="cost-function">
<h2>Cost Function<a class="headerlink" href="#cost-function" title="Link to this heading">#</a></h2>
<p>In this project, we have used the <strong>Sum of Squared Distances (SSD)</strong> as the cost function to calculate the error between the actual data points and the regression line. The SSD is a variant of the <strong>Mean Squared Error (MSE)</strong> without averaging, and it calculates the sum of the squared differences between the predicted values and the actual values. The goal is to minimize this SSD by adjusting the slope (<span class="math notranslate nohighlight">\(\beta_1\)</span>) and intercept (<span class="math notranslate nohighlight">\(\beta_0\)</span>) of the regression line.</p>
<section id="cost-function-used-sum-of-squared-distances-ssd">
<h3>Cost Function Used: Sum of Squared Distances (SSD)<a class="headerlink" href="#cost-function-used-sum-of-squared-distances-ssd" title="Link to this heading">#</a></h3>
<p>The SSD is defined as:</p>
<div class="math notranslate nohighlight">
\[ SSD = \sum_{i=1}^{n} (y_i - \hat{y}_i)^2 \]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(y_i\)</span> are the actual values.</p></li>
<li><p><span class="math notranslate nohighlight">\(\hat{y}_i\)</span> are the predicted values based on the regression line.</p></li>
</ul>
<p>In this case, we are minimizing the <strong>vertical</strong>, <strong>horizontal</strong>, or <strong>perpendicular</strong> residuals by computing the SSD for each method.</p>
</section>
<section id="other-possible-cost-functions">
<h3>Other Possible Cost Functions<a class="headerlink" href="#other-possible-cost-functions" title="Link to this heading">#</a></h3>
<p>While the <strong>SSD</strong> (or MSE) is widely used in regression problems, there are other cost functions that could be used depending on the nature of the data and the project requirements. Here are two alternative cost functions:</p>
<ol class="arabic">
<li><p><strong>Mean Absolute Error (MAE)</strong>:
The MAE calculates the mean of the absolute differences between predicted and actual values. This cost function is less sensitive to outliers compared to MSE, as it treats all differences equally.</p>
<div class="math notranslate nohighlight">
\[ MAE = \frac{1}{n} \sum_{i=1}^{n} |y_i - \hat{y}_i| \]</div>
<ul class="simple">
<li><p><strong>Advantages</strong>: MAE is robust to outliers since it does not square the errors, so large errors have less impact on the overall cost.</p></li>
<li><p><strong>Disadvantages</strong>: It might be less sensitive to small errors and harder to optimize due to its absolute value operation, which is not differentiable at 0.
<br></p></li>
</ul>
</li>
<li><p><strong>Huber Loss</strong>:
The Huber loss function is a hybrid of MSE and MAE. For small errors, it behaves like MSE (quadratic), while for larger errors, it behaves like MAE (linear). This makes it robust to outliers while still maintaining some sensitivity to smaller errors.</p>
<div class="math notranslate nohighlight">
\[\begin{split} L_{\delta}(y_i, \hat{y}_i) = \begin{cases} 
      \frac{1}{2}(y_i - \hat{y}_i)^2 &amp; \text{if } |y_i - \hat{y}_i| \leq \delta \\
      \delta \cdot (|y_i - \hat{y}_i| - \frac{1}{2} \delta) &amp; \text{otherwise}
   \end{cases} \end{split}\]</div>
<ul class="simple">
<li><p><strong>Advantages</strong>: It balances between penalizing large errors and remaining sensitive to smaller ones. It’s a good compromise between MSE and MAE.</p></li>
<li><p><strong>Disadvantages</strong>: Choosing the correct <span class="math notranslate nohighlight">\(\delta\)</span> value can be tricky. If <span class="math notranslate nohighlight">\(\delta\)</span> is too small, the loss behaves too much like MAE; if it’s too large, it behaves like MSE.
<br></p></li>
</ul>
</li>
<li><p><strong>Mean Squared Error (MSE)</strong>:
The MSE is the mean of the squared differences between the predicted and actual values. It penalizes larger errors more heavily due to squaring the residuals, which makes it sensitive to outliers.</p>
<div class="math notranslate nohighlight">
\[ MSE = \frac{1}{n} \sum_{i=1}^{n} (y_i - \hat{y}_i)^2 \]</div>
<ul class="simple">
<li><p><strong>Advantages</strong>: MSE gives more weight to larger errors, making it useful when large deviations are undesirable.</p></li>
<li><p><strong>Disadvantages</strong>: It is highly sensitive to outliers, and large errors can dominate the cost function.</p></li>
</ul>
</li>
</ol>
</section>
<section id="conclusion">
<h3>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h3>
<p>In this project, we primarily use <strong>SSD</strong> (similar to <strong>MSE</strong>) to compute the cost, but depending on the nature of the data and the specific goals of the analysis, we could consider using <strong>MAE</strong> or <strong>Huber Loss</strong> to account for outliers or to ensure a different type of sensitivity to errors.</p>
</section>
<section id="refrence-to-this-part-cost-function-in-pattern-recognation-course-tought-by-dr-hadi-sadoghi-yazdi">
<h3>Refrence to this part : <a class="reference external" href="https://laboratorypatternrecognition.github.io/PatternRecognition_S/PR/Introduction/Cost.html">Cost_Function in Pattern Recognation Course tought by Dr.Hadi Sadoghi Yazdi</a><a class="headerlink" href="#refrence-to-this-part-cost-function-in-pattern-recognation-course-tought-by-dr-hadi-sadoghi-yazdi" title="Link to this heading">#</a></h3>
</section>
</section>
<section id="project-implementation">
<h2>Project Implementation<a class="headerlink" href="#project-implementation" title="Link to this heading">#</a></h2>
<section id="import-necessary-libraries">
<h3>1. Import necessary libraries<a class="headerlink" href="#import-necessary-libraries" title="Link to this heading">#</a></h3>
<section id="explanation-of-libraries-used-in-this-code">
<h4>Explanation of Libraries Used in this code<a class="headerlink" href="#explanation-of-libraries-used-in-this-code" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p><strong>NumPy</strong>: Provides support for numerical computations and data manipulation. Used for generating data points and performing mathematical operations.</p></li>
<li><p><strong>Plotly</strong>: A graphing library that creates interactive visualizations, used here for plotting the scatter plot, regression line, and residuals.</p></li>
<li><p><strong>ipywidgets</strong>: Allows creation of interactive sliders and dropdowns for real-time updates to the plot as the user adjusts slope, intercept, and distance type.</p></li>
<li><p><strong>IPython Display</strong>: Embeds interactive elements like widgets and plots within the Jupyter Notebook.</p></li>
<li><p><strong>time</strong>: Measures the execution time of the program.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objs</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">FloatSlider</span><span class="p">,</span> <span class="n">Dropdown</span><span class="p">,</span> <span class="n">Layout</span><span class="p">,</span> <span class="n">HBox</span><span class="p">,</span> <span class="n">VBox</span><span class="p">,</span> <span class="n">interactive_output</span><span class="p">,</span> <span class="n">HTML</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>
<span class="kn">import</span> <span class="nn">time</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">plotly.graph_objs</span> <span class="k">as</span> <span class="nn">go</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">FloatSlider</span><span class="p">,</span> <span class="n">Dropdown</span><span class="p">,</span> <span class="n">Layout</span><span class="p">,</span> <span class="n">HBox</span><span class="p">,</span> <span class="n">VBox</span><span class="p">,</span> <span class="n">interactive_output</span><span class="p">,</span> <span class="n">HTML</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;plotly&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="generate-random-linear-data">
<h3>2. Generate random linear data<a class="headerlink" href="#generate-random-linear-data" title="Link to this heading">#</a></h3>
<p>This block generates random linear data for <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<ul class="simple">
<li><p><strong>x</strong>: A sequence of 50 evenly spaced values between -5 and 5.</p></li>
<li><p><strong>y</strong>: A linear function of <code class="docutils literal notranslate"><span class="pre">x</span></code> with added random noise to simulate real-world variations.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="define-the-function-for-perpendicular-projection">
<h3>3. Define the function for perpendicular projection<a class="headerlink" href="#define-the-function-for-perpendicular-projection" title="Link to this heading">#</a></h3>
<p>This function calculates the perpendicular projection of a point (<code class="docutils literal notranslate"><span class="pre">x0</span></code>, <code class="docutils literal notranslate"><span class="pre">y0</span></code>) onto a line defined by its <strong>slope</strong> and <strong>intercept</strong>. The function returns the projected point on the line (<code class="docutils literal notranslate"><span class="pre">x_proj</span></code>, <code class="docutils literal notranslate"><span class="pre">y_proj</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">perpendicular_projection</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">):</span>
    <span class="n">x_proj</span> <span class="o">=</span> <span class="p">(</span><span class="n">x0</span> <span class="o">+</span> <span class="n">slope</span> <span class="o">*</span> <span class="p">(</span><span class="n">y0</span> <span class="o">-</span> <span class="n">intercept</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">slope</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">y_proj</span> <span class="o">=</span> <span class="n">slope</span> <span class="o">*</span> <span class="n">x_proj</span> <span class="o">+</span> <span class="n">intercept</span>
    <span class="k">return</span> <span class="n">x_proj</span><span class="p">,</span> <span class="n">y_proj</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="define-the-function-to-plot-regression-and-residuals">
<h3>4. Define the function to plot regression and residuals<a class="headerlink" href="#define-the-function-to-plot-regression-and-residuals" title="Link to this heading">#</a></h3>
<p>This function creates an interactive plot showing the data points, a regression line, and the residual distances between the data points and the line. The residuals can be calculated using:</p>
<ul class="simple">
<li><p><strong>Vertical Distance</strong>: The vertical distance between the data point and the line.</p></li>
<li><p><strong>Horizontal Distance</strong>: The horizontal distance between the data point and the line.</p></li>
<li><p><strong>Perpendicular Distance</strong>: The shortest distance between the data point and the line.</p></li>
</ul>
<p>The plot also displays the <strong>Sum of Squared Distances (SSD)</strong>, a measure of the model’s total error, which is updated dynamically as the slope and intercept change.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_regression_plotly</span><span class="p">(</span><span class="n">slope</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">intercept</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">distance_type</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">):</span>
    <span class="c1"># Compute the fitted regression line</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">slope</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">intercept</span>

    <span class="c1"># Initialize traces for the plot</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># Trace for the data points</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;markers&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Data points&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)))</span>
    
    <span class="c1"># Trace for the fitted regression line</span>
    <span class="n">line_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">line_y</span> <span class="o">=</span> <span class="n">slope</span> <span class="o">*</span> <span class="n">line_x</span> <span class="o">+</span> <span class="n">intercept</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">line_x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">line_y</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Fitted line: y = </span><span class="si">{</span><span class="n">slope</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">x + </span><span class="si">{</span><span class="n">intercept</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)))</span>
    
    <span class="c1"># Add residual lines and calculate SSD</span>
    <span class="n">ssd</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">distance_type</span> <span class="o">==</span> <span class="s2">&quot;vertical&quot;</span><span class="p">:</span>
            <span class="c1"># Vertical distance (difference in y)</span>
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y_pred</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">,</span> <span class="n">dash</span><span class="o">=</span><span class="s1">&#39;dash&#39;</span><span class="p">)))</span>
            <span class="n">ssd</span> <span class="o">+=</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span>
        <span class="k">elif</span> <span class="n">distance_type</span> <span class="o">==</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">:</span>
            <span class="c1"># Horizontal distance (difference in x)</span>
            <span class="n">x_proj</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">intercept</span><span class="p">)</span> <span class="o">/</span> <span class="n">slope</span>
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x_proj</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">dash</span><span class="o">=</span><span class="s1">&#39;dash&#39;</span><span class="p">)))</span>
            <span class="n">ssd</span> <span class="o">+=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">x_proj</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
        <span class="k">elif</span> <span class="n">distance_type</span> <span class="o">==</span> <span class="s2">&quot;perpendicular&quot;</span><span class="p">:</span>
            <span class="c1"># Perpendicular distance</span>
            <span class="n">x_proj</span><span class="p">,</span> <span class="n">y_proj</span> <span class="o">=</span> <span class="n">perpendicular_projection</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">)</span>
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x_proj</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y_proj</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">dash</span><span class="o">=</span><span class="s1">&#39;dash&#39;</span><span class="p">)))</span>
            <span class="n">perp_dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">x_proj</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">y_proj</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">ssd</span> <span class="o">+=</span> <span class="n">perp_dist</span> <span class="o">**</span> <span class="mi">2</span>
    
    <span class="c1"># Create the layout for the plot with larger size</span>
    <span class="n">layout</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Sum of squared distances (</span><span class="si">{</span><span class="n">distance_type</span><span class="si">}</span><span class="s1">): </span><span class="si">{</span><span class="n">ssd</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]),</span>
        <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]),</span>
        <span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span>  
        <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>  
        <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>  
    <span class="p">)</span>
    
    <span class="c1"># Create the figure and display it</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="create-interactive-widgets">
<h3>5. Create interactive widgets<a class="headerlink" href="#create-interactive-widgets" title="Link to this heading">#</a></h3>
<p>This block creates interactive widgets using <code class="docutils literal notranslate"><span class="pre">ipywidgets</span></code>:</p>
<ul class="simple">
<li><p><strong>Slope Slider</strong>: Allows the user to adjust the slope of the regression line.</p></li>
<li><p><strong>Intercept Slider</strong>: Allows the user to adjust the intercept of the regression line.</p></li>
<li><p><strong>Distance Type Dropdown</strong>: Lets the user choose how the distances (residuals) are calculated—either vertically, horizontally, or perpendicularly.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slope_slider</span> <span class="o">=</span> <span class="n">FloatSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="nb">min</span><span class="o">=-</span><span class="mf">3.0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;300px&#39;</span><span class="p">))</span>
<span class="n">intercept_slider</span> <span class="o">=</span> <span class="n">FloatSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="nb">min</span><span class="o">=-</span><span class="mf">5.0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;300px&#39;</span><span class="p">))</span>
<span class="n">distance_type_dropdown</span> <span class="o">=</span> <span class="n">Dropdown</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="s2">&quot;perpendicular&quot;</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;300px&#39;</span><span class="p">))</span>
<span class="n">slope_label</span> <span class="o">=</span> <span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;&lt;b&gt;Slope:&lt;/b&gt; </span><span class="si">{</span><span class="n">slope_slider</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">intercept_label</span> <span class="o">=</span> <span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;&lt;b&gt;Intercept:&lt;/b&gt; </span><span class="si">{</span><span class="n">intercept_slider</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">distance_type_label</span> <span class="o">=</span> <span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;&lt;b&gt;Distance type:&lt;/b&gt; </span><span class="si">{</span><span class="n">distance_type_dropdown</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="update-labels-dynamically">
<h3>6. Update labels dynamically<a class="headerlink" href="#update-labels-dynamically" title="Link to this heading">#</a></h3>
<p>This function updates the text labels for slope, intercept, and distance type dynamically as the user interacts with the sliders and dropdown menu. It ensures the displayed labels always reflect the current settings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function to update the labels dynamically</span>
<span class="k">def</span> <span class="nf">update_labels</span><span class="p">(</span><span class="n">change</span><span class="p">):</span>
    <span class="n">slope_label</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;b&gt;Slope:&lt;/b&gt; </span><span class="si">{</span><span class="n">slope_slider</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">intercept_label</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;b&gt;Intercept:&lt;/b&gt; </span><span class="si">{</span><span class="n">intercept_slider</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">distance_type_label</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;b&gt;Distance type:&lt;/b&gt; </span><span class="si">{</span><span class="n">distance_type_dropdown</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="attach-the-update-function-to-widgets">
<h3>7. Attach the update function to widgets<a class="headerlink" href="#attach-the-update-function-to-widgets" title="Link to this heading">#</a></h3>
<p>In this block, the <code class="docutils literal notranslate"><span class="pre">update_labels</span></code> function is attached to the slope and intercept sliders and the distance type dropdown. This ensures that every time the user modifies a value, the corresponding labels update.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slope_slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">update_labels</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
<span class="n">intercept_slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">update_labels</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
<span class="n">distance_type_dropdown</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">update_labels</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="arrange-widgets-in-a-horizontal-layout">
<h3>8. Arrange widgets in a horizontal layout<a class="headerlink" href="#arrange-widgets-in-a-horizontal-layout" title="Link to this heading">#</a></h3>
<p>This block arranges the sliders and dropdown widgets in a horizontal box (<code class="docutils literal notranslate"><span class="pre">HBox</span></code>) for a clean and organized layout within the notebook. Each control (slope, intercept, distance type) is placed side by side.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">controls</span> <span class="o">=</span> <span class="n">HBox</span><span class="p">([</span><span class="n">VBox</span><span class="p">([</span><span class="n">slope_label</span><span class="p">,</span> <span class="n">slope_slider</span><span class="p">]),</span> <span class="n">VBox</span><span class="p">([</span><span class="n">intercept_label</span><span class="p">,</span> <span class="n">intercept_slider</span><span class="p">]),</span> <span class="n">VBox</span><span class="p">([</span><span class="n">distance_type_label</span><span class="p">,</span> <span class="n">distance_type_dropdown</span><span class="p">])])</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="define-the-function-to-update-the-plot">
<h3>9. Define the function to update the plot<a class="headerlink" href="#define-the-function-to-update-the-plot" title="Link to this heading">#</a></h3>
<p>This function updates the plot based on the current values of the slope, intercept, and selected distance type. Every time the user interacts with the widgets, this function recalculates the residuals and updates the plot accordingly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">update_plot</span><span class="p">(</span><span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">,</span> <span class="n">distance_type</span><span class="p">):</span>
    <span class="n">plot_regression_plotly</span><span class="p">(</span><span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">,</span> <span class="n">distance_type</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="display-the-interactive-plot-and-controls">
<h3>10. Display the interactive plot and controls<a class="headerlink" href="#display-the-interactive-plot-and-controls" title="Link to this heading">#</a></h3>
<p>This block combines the interactive controls (sliders and dropdown) with the plot output. It uses <code class="docutils literal notranslate"><span class="pre">interactive_output</span></code> to link the plot to the widgets, so the plot updates dynamically when the user changes any value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="o">=</span> <span class="n">interactive_output</span><span class="p">(</span><span class="n">update_plot</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;slope&#39;</span><span class="p">:</span> <span class="n">slope_slider</span><span class="p">,</span> <span class="s1">&#39;intercept&#39;</span><span class="p">:</span> <span class="n">intercept_slider</span><span class="p">,</span> <span class="s1">&#39;distance_type&#39;</span><span class="p">:</span> <span class="n">distance_type_dropdown</span><span class="p">})</span>

<span class="c1"># Display the controls and the plot</span>
<span class="n">display</span><span class="p">(</span><span class="n">controls</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "589a32ad3aa54af9af5e46a70d43af99", "version_major": 2, "version_minor": 0}</script><script type="application/vnd.jupyter.widget-view+json">{"model_id": "0c902e73b1e143258092f6ba13fa9017", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="print-the-execution-time">
<h2>Print the execution time<a class="headerlink" href="#print-the-execution-time" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">execution_time</span> <span class="o">=</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Program execution time: </span><span class="si">{</span><span class="n">execution_time</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> seconds&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Program execution time: 0.2985 seconds
</pre></div>
</div>
</div>
</div>
</section>
<section id="link-to-online-app-with-streamlit">
<h2><a class="reference external" href="https://appapplsq-oqwnjzrmqdqteupbz7kgsk.streamlit.app/">link to online app with streamlit</a><a class="headerlink" href="#link-to-online-app-with-streamlit" title="Link to this heading">#</a></h2>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="refrences">
<h1>Refrences<a class="headerlink" href="#refrences" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="https://shinyserv.es/shiny/least-squares/">shinyserv.es/shiny/least-squares</a></p></li>
<li><p><a class="reference external" href="https://youtu.be/S0ptaAXNxBU?si=rmAQlbvIyfxXnA4L">What is Least Squares?</a></p></li>
<li><p><a class="reference external" href="https://byjus.com/maths/least-square-method/">Least Square Method</a></p></li>
<li><p><a class="reference external" href="https://www.udemy.com/share/103adN3&#64;czOWJrj9jn_4NyLh_HQjPNq_E7u0kDShhaJUuEHXuXZYcDRohxOp7WR4rG4BZd2UFw==/">Master statistics &amp; machine learning taught by Dr.Mike X Cohen</a></p></li>
</ul>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./PR\StudentEffort\linear-least-square"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Linear Least Square Method</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview-of-the-project">Overview of the Project</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-insights">Mathematical Insights:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-features">Key Features:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perpendicular-residuals-calculation-using-pca">Perpendicular Residuals Calculation Using PCA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#refrence-to-this-part-pca-in-machine-learning-course-tought-by-dr-hadi-sadoghi-yazdi">Refrence to this part : PCA in Machine Learning Course tought by Dr.Hadi Sadoghi Yazdi</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cost-function">Cost Function</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cost-function-used-sum-of-squared-distances-ssd">Cost Function Used: Sum of Squared Distances (SSD)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-possible-cost-functions">Other Possible Cost Functions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#refrence-to-this-part-cost-function-in-pattern-recognation-course-tought-by-dr-hadi-sadoghi-yazdi">Refrence to this part : Cost_Function in Pattern Recognation Course tought by Dr.Hadi Sadoghi Yazdi</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#project-implementation">Project Implementation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-necessary-libraries">1. Import necessary libraries</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#explanation-of-libraries-used-in-this-code">Explanation of Libraries Used in this code</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-random-linear-data">2. Generate random linear data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-the-function-for-perpendicular-projection">3. Define the function for perpendicular projection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-the-function-to-plot-regression-and-residuals">4. Define the function to plot regression and residuals</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-interactive-widgets">5. Create interactive widgets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#update-labels-dynamically">6. Update labels dynamically</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#attach-the-update-function-to-widgets">7. Attach the update function to widgets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arrange-widgets-in-a-horizontal-layout">8. Arrange widgets in a horizontal layout</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-the-function-to-update-the-plot">9. Define the function to update the plot</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#display-the-interactive-plot-and-controls">10. Display the interactive plot and controls</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#print-the-execution-time">Print the execution time</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#link-to-online-app-with-streamlit">link to online app with streamlit</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#refrences">Refrences</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dr.Hadi Sadoghi Yazdi
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024 Pattern Recognition Lab.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>